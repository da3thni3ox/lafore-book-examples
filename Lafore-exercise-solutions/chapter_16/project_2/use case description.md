Диаграмма прецедентов:

![](use%20case%20diagram.png)

Описание прецедентов:

| Название прецедента | Действие субъекта | Реакция программы |
| --- | --- | --- |
| Запуск программы | Пользователь запускает программу | <p>На экране отображается модель многоэтажного здания, оборудованного системой из нескольких лифтов. Эта модель занимает всё пространство экрана за исключением четырех строк снизу. В этих нижних строках будет происходить диалог программы и пользователя. Сейчас в этой зоне отображается текст запроса «<b>Нажмите [Enter] для вызова лифта или [Esc] для выхода из программы:</b>».</p><p>Модель многоэтажного здания состоит из нескольких зон:</p><p>–&nbsp;зона номеров этажей, находящаяся у левого края экрана;</p><p>–&nbsp;зона кнопок вызова лифта с конкретного этажа, находящаяся справа от зоны номеров этажей (на каждом этаже таких кнопок две: «вверх» и «вниз», в нажатом состоянии они отображаются на экране символами соответственно «▲» с кодом U+25B2 и «▼» с кодом U+25BC Юникода), на момент запуска программы эта зона пуста;</p>–&nbsp;зона лифтов, находящаяся справа от зоны кнопок вызова лифта. Зона каждого лифта состоит в свою очередь из двух зон: зоны кнопок этажей назначения внутри кабины лифта и зоны шахты лифта. В зоне кнопок этажей назначения внутри кабины лифта при выборе пассажирами этажей назначения напротив каждого выбранного этажа отображается символ «■» с кодом U+25A0 Юникода (на момент запуска программы эти зоны пусты). В зоне шахты лифта отображается стоящая или движущаяся кабина лифта (с помощью символов пробела и «█» с кодом U+2588 Юникода) и могут отображаться один или несколько пассажиров с помощью одного символа «☺» с кодом U+263A Юникода. На момент запуска программы кабины всех лифтов находятся на первом этаже и их двери закрыты, пассажиры не отображаются. |
| Вызов лифта с конкретного этажа | При наличии в зоне диалога пользователя с программой надписи «<b>Нажмите [Enter] для вызова лифта или [Esc] для выхода из программы:</b>» пользователь нажимает клавишу «Enter» на клавиатуре | <p>Зона диалога пользователя с программой очищается от текста предыдущего запроса.</p><p>В этой зоне появляется текст запроса «<b>Введите номер этажа, на котором вы находитесь:</b>». Пользователь вводит номер этажа, с которого производится вызов лифта.</p><p>Под вышеуказанным запросом появляется еще один запрос: «<b>В каком направлении будете двигаться ('в' (вверх) или 'н' (вниз)):</b>». После выбора одной из этих кнопок вызова лифта около выбранного этажа в зоне кнопок вызова лифта появится символ «▲» или «▼».</p>После этого зона диалога пользователя с программой очищается от текста запросов и в ней появляется исходный запрос «<b>Нажмите [Enter] для вызова лифта или [Esc] для выхода из программы:</b>», а программа направляет одну из лифтовых кабин на этаж, с которого был произведен вызов лифта. |
| Ввод этажей назначения | После прибытия выделенной программой лифтовой кабины на этаж, с которого был произведен вызов лифта | <p>В зоне кнопок вызова лифта стирается символ соответствующей кнопки лифта: «▲» или «▼».</p><p>Показывается, что пассажиры ждут снаружи прибывшей кабины с закрытой дверью: <nobr>«☺███».</nobr> Затем показывается, что дверь открылась и пассажиры вошли внутрь: <nobr>«█☺█».</nobr></p><p>Зона диалога пользователя с программой очищается от текста предыдущего запроса. Появляется надпись «<b>Лифт 1 остановился на этаже 11...</b>» (номера 1 и 11 в этой надписи даны как пример, тут могут быть номер любого из лифтов и номер любого из этажей). Ниже появляется еще одна надпись «<b>Введите этажи назначения (0 для окончания ввода).</b>». А ниже — запрос «<b>Выбор 1 этажа назначения:</b>».</p><p>В этом запросе число 1 обозначает не номер этажа в здании, а номер этажа назначения в списке этажей назначения. Список этажей назначения нужен потому, что если пассажир не один, а несколько, то этажей назначения тоже может быть несколько (в этом случае лифтовая кабина будет выполнять их по очереди). Теоретически этажей назначения в списке этажей назначения может быть столько же, сколько этажей в здании, минус один (этаж, на котором лифт на данный момент принимает пассажиров, заносить в список этажей назначения было бы глупо, и мы его не считаем).</p><p>После ввода первого этажа назначения в списке этажей назначения в соответствующей зоне кнопок этажей назначения напротив выбранного этажа появляется символ «■». Запрос «<b>Выбор 1 этажа назначения:</b>» стирается, а вместо него появляется запрос «<b>Выбор 2 этажа назначения:</b>». Этот процесс повторяется, пока пользователь программы не введет все этажи назначения в список этажей назначения. Для окончания ввода этажей назначения на запрос очередного этажа назначения нужно ввести число 0.</p><p>После этого показывается закрытие дверей кабины лифта: «███».</p><p>Зона диалога пользователя с программой очищается от текста запросов и в ней появляется исходный запрос «<b>Нажмите [Enter] для вызова лифта или [Esc] для выхода из программы:</b>».</p><p>Кабина лифта с пассажирами отправляется к выбранным этажам назначения по очереди. По прибытии на очередной этаж назначения в соответствующей зоне кнопок этажей назначения стирается символ «■». Затем показывается открытие дверей кабины лифта: <nobr>«█☺█»,</nobr> выгрузка пассажиров из кабины: <nobr>«█<code> </code>█☺»,</nobr> закрытие дверей кабины: «███».</p>После этого кабина лифта отправляется к следующему этажу назначения в списке этажей назначения. Если текущий этаж был последним в списке, то лифтовая кабина останавливается на текущем этаже назначения. |
| Выход из программы | При наличии в зоне диалога пользователя с программой надписи «<b>Нажмите [Enter] для вызова лифта или [Esc] для выхода из программы:</b>» пользователь нажимает клавишу «Esc» на клавиатуре | Производится выход из программы. Всё, что к этому моменту изображено на экране, остается на экране (не стирается). |
